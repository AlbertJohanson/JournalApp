{"version":3,"sources":["firebase/fire-config.js","types/types.js","helpers/fileUpload.js","helpers/loadNotes.js","actions/notes.js","actions/ui.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/Sidebar.js","components/notes/NotesAppBar.js","components/notes/NoteScreen.js","components/journal/NothingSelected.js","components/journal/JournalScreen.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","reducers/notesReducer.js","reducers/uiReducer.js","store/store.js","reducers/authReducer.js","JournalApp.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","googleAuthProvider","auth","GoogleAuthProvider","types","fileUpload","file","a","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","loadNotes","uid","collection","get","notesSnap","notes","forEach","snapHijo","push","id","data","activeNote","note","type","payload","addNewNote","startLoadingNotes","dispatch","setNote","startSaveNote","getState","url","noteToFirestore","doc","update","refreshNote","Swal","fire","title","DeleteNote","setError","err","startLoading","finishLoading","login","displayName","logout","useForm","initialState","useState","values","setValues","reset","newFormState","handleInputChange","target","name","value","initialForm","email","password","LoginScreen","useDispatch","loading","useSelector","state","ui","formValues","handleLogin","e","preventDefault","signInWithEmailAndPassword","then","user","catch","message","startLoginEmailPassword","className","onSubmit","placeholder","autoComplete","onChange","onClick","disabled","signInWithPopup","src","alt","to","password2","RegisterScreen","isFormValid","trim","length","validator","isEmail","createUserWithEmailAndPassword","updateProfile","console","log","registerWithEmailPassword","AuthRouter","exact","path","component","JournalEntry","date","noteDate","moment","style","backgroundSize","backgroundImage","format","JournalEntries","map","key","Sidebar","signOut","noteLogout","newNote","Date","getTime","add","NotesAppBar","active","display","files","text","allowOutsideClick","onBeforeOpen","showLoading","fileUrl","close","startUploading","document","querySelector","click","NoteScreen","useRef","useEffect","current","delete","startDeleting","NothingSelected","JournalScreen","PrivateRoute","isAuthenticated","Component","rest","props","prototype","PropTypes","bool","isRequired","func","PublicRoute","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","msgError","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","JournalApp","ReactDOM","render","getElementById"],"mappings":"gRAcEA,IAASC,cATY,CACnBC,OAAQ,0CACRC,WAAY,mCACZC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,8CAKT,IAAMC,EAAKR,IAASS,YACdC,EAAqB,IAAIV,IAASW,KAAKC,mBCflCC,EAGF,eAHEA,EAID,gBAJCA,EAMG,iBANHA,EAOA,oBAPAA,EASO,qBATPA,EAUQ,sBAVRA,EAYI,mBAZJA,EAaI,yBAbJA,EAcE,qBAdFA,EAeI,uBAfJA,EAiBI,uBAjBJA,EAkBY,0B,OCnBZC,EAAU,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,4DAGL,gDAEXC,EAAW,IAAIC,UACZC,OAAO,gBAAiB,iBACjCF,EAASE,OAAO,OAAQJ,GAPF,kBAWCK,MARN,+CAQuB,CAChCC,OAAQ,OACRC,KAAML,IAbQ,YAWZM,EAXY,QAgBVC,GAhBU,kCAiBUD,EAAKE,OAjBf,eAiBRC,EAjBQ,yBAmBPA,EAAUC,YAnBH,yBAqBFJ,EAAKE,OArBH,oJAAH,sDCEVG,EAAS,uCAAG,WAAMC,GAAN,iBAAAb,EAAA,sEACCR,EAAGsB,WAAH,UAAiBD,EAAjB,mBAAsCE,MADvC,cACjBC,EADiB,OAGjBC,EAAQ,GAEdD,EAAUE,SAAS,SAAAC,GACfF,EAAMG,KAAN,aACIC,GAAGF,EAASE,IACTF,EAASG,YARG,kBAahBL,GAbgB,2CAAH,sDCyBTM,EAAa,SAACF,EAAIG,GAAL,MAAe,CAErCC,KAAM5B,EACN6B,QAAQ,aACJL,MACGG,KAKEG,EAAa,SAACN,EAAIG,GAAL,MAAe,CACrCC,KAAM5B,EACN6B,QAAQ,aACJL,MAAOG,KAKFI,EAAoB,SAAAf,GAE7B,8CAAO,WAAOgB,GAAP,eAAA7B,EAAA,sEAEiBY,EAAUC,GAF3B,OAEGI,EAFH,OAGHY,EAASC,EAAQb,IAHd,2CAAP,uDASSa,EAAU,SAACb,GAAD,MAAY,CAE/BQ,KAAM5B,EACN6B,QAAST,IAIAc,EAAgB,SAAEP,GAE3B,8CAAO,WAAOK,EAAUG,GAAjB,iBAAAhC,EAAA,6DAGIa,EAAOmB,IAAWrC,KAAlBkB,IAEFW,EAAKS,YACCT,EAAKS,WAGVC,EATH,eASyBV,IACLH,GAVpB,SAYG7B,EAAG2C,IAAH,UAAUtB,EAAV,0BAAgCW,EAAKH,KAAOe,OAAOF,GAZtD,OAcHL,EAASQ,EAAYb,EAAKH,GAAIa,IAC9BI,IAAKC,KAAK,QAASf,EAAKgB,MAAO,WAf5B,2CAAP,yDAsBSH,EAAc,SAAChB,EAAIG,GAAL,MAAe,CAEtCC,KAAM5B,EACN6B,QAAS,CACLL,KACAG,KAAK,aACDH,MACGG,MA6CFiB,EAAa,SAACpB,GAAD,MAAS,CAC/BI,KAAM5B,EACN6B,QAASL,IC3IAqB,EAAW,SAAEC,GAAF,MAAY,CAChClB,KAAM5B,EACN6B,QAASiB,IAQAC,EAAe,iBAAO,CAC/BnB,KAAM5B,EACN6B,SAAS,IAIAmB,EAAgB,iBAAO,CAChCpB,KAAM5B,EACN6B,SAAS,IC8CAoB,EAAQ,SAACjC,EAAKkC,GAAN,MAAuB,CACpCtB,KAAM5B,EACN6B,QAAS,CACLb,MACAkC,iBAeCC,EAAS,iBAAO,CACzBvB,KAAM5B,I,QCnFGoD,EAAU,WAA0B,IAAxBC,EAAuB,uDAAR,GAAQ,EAEhBC,mBAASD,GAFO,mBAErCE,EAFqC,KAE7BC,EAF6B,KAItCC,EAAQ,WAAmC,IAAjCC,EAAgC,uDAAjBL,EAC3BG,EAAWE,IAITC,EAAoB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAEzBJ,EAAU,2BACHD,GADE,kBAEHK,EAAOC,KAAQD,EAAOE,UAKhC,MAAO,CAAEP,EAAQI,EAAmBF,IChBlCM,EAAc,CAClBC,MAAO,GACPC,SAAU,IAECC,EAAc,WACzB,IAAMlC,EAAWmC,cAETC,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,MAAzCH,QAHuB,EAOShB,EAAQW,GAPjB,mBAOxBS,EAPwB,KAOZb,EAPY,KASvBK,EAAoBQ,EAApBR,MAAOC,EAAaO,EAAbP,SAETQ,EAAc,SAACC,GACnBA,EAAEC,iBAEA3C,EFfiC,SAAEgC,EAAOC,GAC5C,OAAO,SAACjC,GAEJA,EAASe,KAGT5D,IAASW,OAAO8E,2BAA2BZ,EAAOC,GACjDY,MAAM,YAAa,IAAXC,EAAU,EAAVA,KACL9C,EACIiB,EAAO6B,EAAK9D,IAAK8D,EAAK5B,cAG1BlB,EAASgB,QACV+B,OAAM,SAAAL,GACL1C,EAASgB,KACTP,IAAKC,KAAK,QAAQgC,EAAEM,QAAS,aEA1BC,CAAwBjB,EAAOC,KAS5C,OACE,oCACE,wBAAIiB,UAAU,eAAd,SAEA,0BACAA,UAAU,oDACTC,SAAUV,GACT,2BACE7C,KAAK,OACLwD,YAAY,QACZvB,KAAK,QACLqB,UAAU,cACVG,aAAa,MACbvB,MAAOE,EACPsB,SAAU3B,IAGZ,2BACE/B,KAAK,WACLwD,YAAY,WACZvB,KAAK,WACLqB,UAAU,cACVpB,MAAOG,EACPqB,SAAU3B,IAGZ,4BACE/B,KAAK,SACLsD,UAAU,4BACVK,QAASd,EACTe,SAAUpB,GAJZ,SASA,yBAAKc,UAAU,yBACb,yDAEA,yBAAKA,UAAU,aAAaK,QA3CV,SAACb,GACzBA,EAAEC,iBACF3C,GF0BO,SAACA,GACJ7C,IAASW,OAAO2F,gBAAiB5F,GAC5BgF,MAAM,YAAa,IAAXC,EAAU,EAAVA,KACL9C,EACIiB,EAAO6B,EAAK9D,IAAK8D,EAAK5B,sBEY9B,yBAAKgC,UAAU,uBACb,yBACEA,UAAU,cACVQ,IAAI,8EACJC,IAAI,mBAGR,uBAAGT,UAAU,YACX,qDAKN,kBAAC,IAAD,CAAMU,GAAG,iBAAiBV,UAAU,QAApC,yB,iBCxEFnB,EAAc,CAChBF,KAAM,GACNG,MAAO,GACPC,SAAS,GACT4B,UAAU,IAEDC,EAAiB,WAK1B,IAAM9D,EAAWmC,cALe,EASSf,EAASW,GATlB,mBASxBS,EATwB,KASZb,EATY,KAYzBE,EAAoCW,EAApCX,KAAMG,EAA8BQ,EAA9BR,MAAOC,EAAuBO,EAAvBP,SAAU4B,EAAarB,EAAbqB,UAWxBE,EAAc,WAEhB,OAA2B,IAAvBlC,EAAKmC,OAAOC,QAEZjE,EAASa,EAASJ,IAAKC,KAAK,QAAQ,uBAC7B,GACDwD,IAAUC,QAASnC,GAGnBC,IAAa4B,GAAa5B,EAASgC,OAAS,GAClDjE,EAASa,EAASJ,IAAKC,KAAK,QAAQ,iCAC7B,IAGXV,EJhD+B,CACnCJ,KAAM5B,EACN6B,QAASiB,KI+CE,IARHd,EAASa,EAASJ,IAAKC,KAAK,QAAQ,yBAC7B,GJ1CQ,IAAEI,GIoDzB,OACI,oCACI,wBAAIoC,UAAU,eAAd,YAEA,0BACMA,UAAU,oDACVC,SAjCS,SAACT,GACpBA,EAAEC,iBAECoB,KAEC/D,EHR6B,SAAEgC,EAAOC,EAAWJ,GAEzD,OAAO,SAAC7B,GAEJA,EAASe,KAGT5D,IAASW,OAAOsG,+BAA+BpC,EAAOC,GACrDY,KADD,uCACO,6BAAA1E,EAAA,6DAAQ2E,EAAR,EAAQA,KAAR,SAEGA,EAAKuB,cAAc,CAAEnD,YAAaW,IAFrC,OAIHyC,QAAQC,IAAIzB,GAEX9C,EACGiB,EAAO6B,EAAK9D,IAAK8D,EAAK5B,cAPvB,2CADP,uDAUG6B,OAAM,SAAAL,GACL1C,EAASgB,KACTP,IAAKC,KAAK,QAAQgC,EAAEM,QAAS,aGXpBwB,CAA0BxC,EAAOC,EAAUJ,MAgChD,2BACIjC,KAAK,OACLwD,YAAY,OACZvB,KAAK,OACLqB,UAAU,cACVG,aAAa,MACbvB,MAAOD,EACPyB,SAAW3B,IAGf,2BACI/B,KAAK,OACLwD,YAAY,QACZvB,KAAK,QACLqB,UAAU,cACVG,aAAa,MACbvB,MAAOE,EACPsB,SAAW3B,IAGf,2BACI/B,KAAK,WACLwD,YAAY,WACZvB,KAAK,WACLqB,UAAU,cACVpB,MAAOG,EACPqB,SAAW3B,IAGf,2BACI/B,KAAK,WACLwD,YAAY,mBACZvB,KAAK,YACLqB,UAAU,cACVpB,MAAO+B,EACPP,SAAW3B,IAIf,4BACI/B,KAAK,SACLsD,UAAU,kCAFd,YASA,kBAAC,IAAD,CACIU,GAAG,cACHV,UAAU,QAFd,0BChHHuB,GAAa,WACtB,OACI,yBAAKvB,UAAU,cACX,yBAAKA,UAAU,uBACX,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIwB,OAAK,EACLC,KAAK,cACLC,UAAY1C,IAGhB,kBAAC,IAAD,CACIwC,OAAK,EACLC,KAAK,iBACLC,UAAYd,IAGhB,kBAAC,IAAD,CAAUF,GAAG,oB,oBCjBpBiB,GAAe,SAAC,GAAkC,IAAjCrF,EAAgC,EAAhCA,GAAIsF,EAA4B,EAA5BA,KAAMnE,EAAsB,EAAtBA,MAAOlC,EAAe,EAAfA,KAAM2B,EAAS,EAATA,IAG3CJ,EAAWmC,cAEX4C,EAAWC,KAAOF,GAQxB,OACI,yBAAK5B,UAAU,2EAA2EK,QANrE,WACrBvD,EAASN,EAAWF,EAAG,CAACsF,OAAKnE,QAAMlC,OAAK2B,WAQhCA,GACA,yBACA8C,UAAU,yBACV+B,MAAO,CACHC,eAAgB,QAChBC,gBAAgB,OAAD,OAAS/E,EAAT,QAKvB,yBAAK8C,UAAU,uBACX,uBAAGA,UAAU,wBACRvC,GAEL,uBAAGuC,UAAU,0BACRzE,IAIT,yBAAKyE,UAAU,2BACX,8BAAO6B,EAASK,OAAO,QACvB,4BAAKL,EAASK,OAAO,UCxCxBC,GAAiB,WAAO,IAEtBjG,EAASiD,aAAY,SAAAC,GAAK,OAAIA,EAAMlD,SAApCA,MAEX,OACI,yBAAK8D,UAAU,oBAGP9D,EAAMkG,KAAK,SAAA3F,GAAI,OACX,kBAAC,GAAD,eACI4F,IAAM5F,EAAKH,IACPG,SCRf6F,GAAU,WAAO,IAGlB3D,EAASQ,aAAY,SAACC,GAAD,OAAWA,EAAMxE,QAAtC+D,KAIF7B,EAAWmC,cAajB,OACI,2BAAOe,UAAU,oBAEb,yBAAKA,UAAU,2BACX,wBAAIA,UAAU,QACV,uBAAGA,UAAU,gBACb,8BAAOrB,IAGX,4BACIqB,UAAU,MACVK,QAtBK,WAEjBvD,EP2DJ,uCAAO,WAAOA,GAAP,SAAA7B,EAAA,sEACGhB,IAASW,OAAO2H,UADnB,OAGHzF,EAASmB,KACTnB,EFgE2B,CAC/BJ,KAAM5B,EACN6B,aElEa6F,IAJN,2CAAP,yDOzCY,WAQJ,yBACAxC,UAAU,qBACVK,QAxBa,WACjBvD,ETdJ,uCAAO,WAAMA,EAAUG,GAAhB,mBAAAhC,EAAA,6DAGIa,EAAOmB,IAAWrC,KAAlBkB,IAED2G,EAAU,CACZhF,MAAO,GACPlC,KAAK,GACLqG,MAAM,IAAIc,MAAOC,WARlB,SAWelI,EAAGsB,WAAH,UAAiBD,EAAjB,mBAAsC8G,IAAIH,GAXzD,OAWGrF,EAXH,OAaHN,EAASN,EAAYY,EAAId,GAAImG,IAC7B3F,EAAUF,EAAWQ,EAAId,GAAImG,IAd1B,2CAAP,2DSuCY,uBAAGzC,UAAU,+BACb,uBAAGA,UAAU,QAAb,cAKJ,kBAAC,GAAD,QClDC6C,GAAc,WAGvB,IAAM/F,EAAWmC,cAEV6D,EAAU3D,aAAY,SAAAC,GAAK,OAAIA,EAAMlD,SAArC4G,OAwBP,OACI,yBAAK9C,UAAU,iBACX,mDAEA,2BACI1D,GAAG,eACHI,KAAK,OACLiC,KAAK,OACLoD,MAAO,CAAEgB,QAAS,QAClB3C,SArBY,SAACZ,GAEzB,IAAMxE,EAAOwE,EAAEd,OAAOsE,MAAM,GAExBhI,GACA8B,EV2EsB,SAAE9B,GAE5B,8CAAO,WAAQ8B,EAAUG,GAAlB,iBAAAhC,EAAA,6DAEYuB,EAAeS,IAAWf,MAAjC4G,OAERvF,IAAKC,KAAK,CACNC,MAAO,eACPwF,KAAM,iBACNC,mBAAmB,EACnBC,aAAc,WACV5F,IAAK6F,iBATV,SAamBrI,EAAYC,GAb/B,OAaGqI,EAbH,OAcH7G,EAAWU,IAAMmG,EAEjBvG,EAAUE,EAAeR,IAGzBe,IAAK+F,QAnBF,2CAAP,wDU7EcC,CAAevI,OAoBrB,6BACI,4BAAQgF,UAAU,MAAMK,QA9BV,WACvBmD,SAASC,cAAc,iBAAiBC,UA6B/B,WAIA,4BAAQ1D,UAAU,MAAMK,QAvCb,WAElBvD,EAASE,EAAc8F,MAqChB,WC3CHa,GAAa,WAGtB,IAAM7G,EAAWmC,cAGHxC,EAAQ0C,aAAY,SAAAC,GAAK,OAAIA,EAAMlD,SAA1C4G,OANqB,EAQoB5E,EAAQzB,GAR5B,mBAQrB6C,EARqB,KAQTb,EARS,KAQUF,EARV,KAYrBd,EAAmB6B,EAAnB7B,MAAOlC,EAAY+D,EAAZ/D,KAAMe,EAAMgD,EAANhD,GAEdwG,EAASc,iBAAQnH,EAAKH,IAI5BuH,qBAAU,WAEHpH,EAAKH,KAAOwG,EAAOgB,UAClBvF,EAAM9B,GACNqG,EAAOgB,QAAUrH,EAAKH,MAG3B,CAACG,EAAM8B,IAEVsF,qBAAU,WAEN/G,EAAUN,EAAW8C,EAAWhD,GAAZ,eAAoBgD,OAEzC,CAACA,EAAYxC,IAMhB,OACI,yBAAKkD,UAAU,uBAEX,kBAAC,GAAD,MAEA,yBAAKA,UAAU,kBAEX,2BACItD,KAAK,OACLwD,YAAY,qBACZF,UAAU,qBACVG,aAAa,MACbxB,KAAK,QACLC,MAAOnB,EACP2C,SAAU3B,IAGd,8BACIyB,YAAY,sBACZF,UAAU,kBACVrB,KAAK,OACLC,MAAOrD,EACP6E,SAAU3B,IAIfhC,EAAKS,KACL,yBAAK8C,UAAU,gBACV,yBACIQ,IAAK/D,EAAKS,IACVuD,IAAI,aAQhB,4BAAQT,UAAU,iBAAiBK,QA1CtB,WACjBvD,EXqFqB,SAACR,GAC1B,8CAAO,WAAOQ,EAAUG,GAAjB,eAAAhC,EAAA,6DAEGa,EAAMmB,IAAWrC,KAAKkB,IAFzB,SAIGrB,EAAG2C,IAAH,UAAUtB,EAAV,0BAAgCQ,IAAOyH,SAJ1C,OAOFjH,EAASY,EAAWpB,IAPlB,2CAAP,wDWtFa0H,CAAc1H,MAyCnB,YCjFC2H,GAAkB,WAC3B,OACI,yBAAKjE,UAAU,yBACX,8CAEI,6BAFJ,uBAMA,uBAAGA,UAAU,6BCHZkE,GAAgB,WAAO,IAGzBpB,EAAU3D,aAAY,SAAAC,GAAK,OAAIA,EAAMlD,SAArC4G,OAGP,OACI,yBAAK9C,UAAU,2EAEX,kBAAC,GAAD,MAGA,8BAGS8C,EACE,kBAAC,GAAD,MACA,kBAAC,GAAD,S,6BCjBVqB,GAAe,SAAC,GAItB,IAHLC,EAGI,EAHJA,gBACWC,EAEP,EAFJ3C,UACG4C,EACC,gDAGJ,OACE,kBAAC,IAAD,iBACMA,EADN,CAEE5C,UAAW,SAAC6C,GAAD,OACTH,EAAkB,kBAACC,EAAcE,GAAY,kBAAC,IAAD,CAAU7D,GAAG,qBAKlEyD,GAAaK,UAAY,CACrBJ,gBAAiBK,KAAUC,KAAKC,WAChCjD,UAAW+C,KAAUG,KAAKD,YClBvB,IAAME,GAAc,SAAC,GAIrB,IAHLT,EAGI,EAHJA,gBACWC,EAEP,EAFJ3C,UACG4C,EACC,gDACJ,OACE,kBAAC,IAAD,iBACMA,EADN,CAEE5C,UAAW,SAAC6C,GAAD,OACPH,EAAoB,kBAAC,IAAD,CAAU1D,GAAG,MAAU,kBAAC2D,EAAcE,QAKpEM,GAAYL,UAAY,CACpBJ,gBAAiBK,KAAUC,KAAKC,WAChCjD,UAAW+C,KAAUG,KAAKD,YCPvB,IAAMG,GAAY,WAGrB,IAAMhI,EAAWmC,cAHU,EAKKb,oBAAS,GALd,mBAKpB2G,EALoB,KAKVC,EALU,OAOS5G,oBAAS,GAPlB,mBAOpB6G,EAPoB,KAORC,EAPQ,KA8B3B,OApBArB,qBAAU,WACP5J,IAASW,OAAOuK,mBAAhB,uCAAoC,WAAOvF,GAAP,SAAA3E,EAAA,uDAEnC,OAAK2E,QAAL,IAAKA,OAAL,EAAKA,EAAM9D,MAEPgB,EAAWiB,EAAM6B,EAAK9D,IAAK8D,EAAK5B,cAChCkH,GAAc,GAEdpI,EAASD,EAAkB+C,EAAK9D,OAIhCoJ,GAAc,GAGlBF,GAAY,GAduB,2CAApC,yDAiBA,CAAClI,EAAUkI,EAAaE,IAEvBH,EAGI,0CAKJ,kBAAC,IAAD,KACI,6BACI,kBAAC,IAAD,KACI,kBAAC,GAAD,CACItD,KAAK,QACL2C,gBAAmBa,EACnBvD,UAAYH,KAGhB,kBAAC,GAAD,CACIC,OAAK,EACL4C,gBAAmBa,EACnBxD,KAAK,IACLC,UAAYwC,KAGhB,kBAAC,IAAD,CAAUxD,GAAG,oB,2BCpE3BvC,GAAe,CACjBjC,MAAO,GACP4G,OAAQ,MCHN3E,GAAe,CACjBe,SAAS,EACTkG,SAAU,MCERC,GAAsC,qBAAXC,QAA0BA,OAAOC,sCAAyCC,KAErGC,GAAWC,aAAgB,CAC7B9K,KCHuB,WAAyB,IAAxBwE,EAAuB,uDAAf,GAAIuG,EAAW,uCAE/C,OAAQA,EAAOjJ,MACX,KAAK5B,EACD,MAAM,CACFgB,IAAK6J,EAAOhJ,QAAQb,IACpB6C,KAAMgH,EAAOhJ,QAAQqB,aAGzB,KAAKlD,EACD,MAAO,GAEf,QACI,OAAOsE,IDTfC,GDHqB,WAAoC,IAAlCD,EAAiC,uDAAzBjB,GAAcwH,EAAW,uCAExD,OAAQA,EAAOjJ,MACX,KAAK5B,EACD,OAAO,2BACAsE,GADP,IAEIgG,SAAUO,EAAOhJ,UAGzB,KAAK7B,EACD,kCACOsE,GADP,IAEIgG,SAAU,OAGlB,KAAKtK,EACD,OAAO,2BACAsE,GADP,IAEIF,SAAS,IAEjB,KAAKpE,EACD,OAAO,2BACAsE,GADP,IAEIF,SAAS,IAIjB,QACI,OAAOE,ICxBflD,MFHwB,WAAmC,IAAlCkD,EAAiC,uDAAzBjB,GAAcwH,EAAW,uCAG1D,OAAQA,EAAOjJ,MAEX,KAAK5B,EACD,OAAO,2BACAsE,GADP,IAEI0D,OAAO,eACA6C,EAAOhJ,WAItB,KAAK7B,EACD,OAAO,2BACAsE,GADP,IAEIlD,MAAM,CAAGyJ,EAAOhJ,SAAX,oBAAuByC,EAAMlD,UAG1C,KAAKpB,EACD,OAAO,2BACAsE,GADP,IAEIlD,MAAM,aAAKyJ,EAAOhJ,WAG1B,KAAK7B,EACD,OAAO,2BACAsE,GADP,IAEIlD,MAAOkD,EAAMlD,MAAMkG,KACf,SAAA3F,GAAI,OAAIA,EAAKH,KAAOqJ,EAAOhJ,QAAQL,GAChCqJ,EAAOhJ,QAAQF,KACjBA,OAIb,KAAK3B,EACD,OAAO,2BACAsE,GADP,IAEI0D,OAAQ,KACR5G,MAAOkD,EAAMlD,MAAM0J,QAAQ,SAAAnJ,GAAI,OAAKA,EAAKH,KAAOqJ,EAAOhJ,aAG/D,KAAK7B,EACD,OAAO,2BACAsE,GADP,IAEIlD,MAAO,GACP4G,OAAQ,OAGhB,QACI,OAAO1D,ME5CNyG,GAAQC,aACjBL,GACAJ,GACIU,aAAgBC,QETXC,GAAa,WAItB,OACI,kBAAC,IAAD,CAAUJ,MAAOA,IACf,kBAAC,GAAD,Q,cCLVK,IAASC,OACP,kBAAC,GAAD,MACA3C,SAAS4C,eAAe,U","file":"static/js/main.f03a9cb7.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDKR2C-FjEAHbDYR3vlRW-M1hQff1o7Pv0\",\r\n    authDomain: \"journalapp-84d90.firebaseapp.com\",\r\n    projectId: \"journalapp-84d90\",\r\n    storageBucket: \"journalapp-84d90.appspot.com\",\r\n    messagingSenderId: \"533681209747\",\r\n    appId: \"1:533681209747:web:94b5373862f0a119b96866\"\r\n  };\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  const db = firebase.firestore();\r\n  const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\n  export {\r\n      db, \r\n      googleAuthProvider,\r\n      firebase\r\n  }","\r\n\r\nexport const types  = {\r\n\r\n\r\n    login: '[Auth] login',\r\n    logout: '[Auth] logout',\r\n\r\n    uiSetError: '[UI] Set Error',\r\n    uiError: '[UI] Remove Error',\r\n\r\n    uiStartLoading: '[UI] Start loading',\r\n    uiFinishLoading: '[UI] Finish loading',\r\n\r\n    notesAddNew: '[Notes] New note',\r\n    notesActive: '[Notes]Set active note',\r\n    notesLoad: '[Notes] Load notes',\r\n    notesUpdate: '[Notes] Update notes',\r\n    notesFileUrl: '[Notes] Update image note',\r\n    notesDelete: '[Notes] Delete notes',\r\n    notesLogoutCleaning: '[Notes] Logout Cleaning',\r\n}","\r\nexport const fileUpload = async (file) => {\r\n\r\n\r\n    const cloudUrl = 'https://api.cloudinary.com/v1_1/ajweb/upload';\r\n\r\n    const formData = new FormData()\r\n    formData.append('upload_preset', 'react-journal');\r\n    formData.append('file', file);\r\n\r\n\r\n    try {\r\n        const resp = await fetch( cloudUrl, {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n\r\n        if(resp.ok) {\r\n            const cloudResp = await resp.json();\r\n\r\n            return cloudResp.secure_url;\r\n        } else  {\r\n            throw await resp.json()\r\n        }\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n\r\n\r\n} ","import { db } from \"../firebase/fire-config\"\r\n\r\n\r\nexport const loadNotes = async(uid) => {\r\n  const notesSnap = await db.collection(`${uid}/journal/notes`).get();\r\n\r\n  const notes = []\r\n\r\n  notesSnap.forEach( snapHijo => {\r\n      notes.push({\r\n          id:snapHijo.id,\r\n          ...snapHijo.data()\r\n      })\r\n  })\r\n\r\n\r\n  return notes;\r\n\r\n}","import Swal from \"sweetalert2\"\r\nimport { db } from \"../firebase/fire-config\"\r\nimport { fileUpload } from \"../helpers/fileUpload\"\r\nimport { loadNotes } from \"../helpers/loadNotes\"\r\nimport { types } from \"../types/types\"\r\n\r\n\r\n\r\nexport const startNewNote = () => {\r\n    return async(dispatch, getState) => {\r\n\r\n\r\n        const {uid} = getState().auth\r\n\r\n        const newNote = {\r\n            title: '',\r\n            body:'',\r\n            date: new Date().getTime(),\r\n        }\r\n\r\n        const doc = await db.collection(`${uid}/journal/notes`).add(newNote)\r\n\r\n        dispatch(activeNote( doc.id, newNote ))\r\n        dispatch( addNewNote(doc.id, newNote))\r\n        \r\n    }\r\n}\r\n\r\nexport const activeNote = (id, note) => ({\r\n\r\n    type: types.notesActive,\r\n    payload: {\r\n        id, \r\n        ...note\r\n    }\r\n\r\n})\r\n\r\nexport const addNewNote = (id, note) => ({\r\n    type: types.notesAddNew,\r\n    payload: {\r\n        id, ...note\r\n    }\r\n})\r\n\r\n\r\nexport const startLoadingNotes = uid  => {\r\n\r\n    return async (dispatch) => {\r\n        \r\n        const notes = await loadNotes(uid);\r\n        dispatch(setNote(notes))\r\n    }\r\n\r\n} \r\n\r\n\r\nexport const setNote = (notes) => ({\r\n\r\n    type: types.notesLoad,\r\n    payload: notes\r\n\r\n})\r\n\r\nexport const startSaveNote = ( note ) => {\r\n\r\n    return async( dispatch, getState ) => {\r\n\r\n\r\n        const {uid} = getState().auth;\r\n\r\n        if( !note.url){\r\n            delete note.url\r\n        }\r\n\r\n        const noteToFirestore = {...note};\r\n        delete noteToFirestore.id;\r\n\r\n        await db.doc(`${uid}/journal/notes/${ note.id }`).update(noteToFirestore);\r\n\r\n        dispatch(refreshNote(note.id, noteToFirestore))\r\n        Swal.fire('Saved', note.title, 'success')\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const refreshNote = (id, note) => ({\r\n\r\n    type: types.notesUpdate,\r\n    payload: {\r\n        id,\r\n        note: {\r\n            id,\r\n            ...note\r\n        }\r\n    }\r\n})\r\n\r\n\r\nexport const startUploading = ( file ) => {\r\n\r\n    return async ( dispatch, getState ) => {\r\n\r\n        const { active:activeNote } = getState().notes;\r\n\r\n        Swal.fire({\r\n            title: 'Uploading...',\r\n            text: 'Please wait...',\r\n            allowOutsideClick: false, \r\n            onBeforeOpen: () => {\r\n                Swal.showLoading();\r\n            }\r\n        })\r\n\r\n        const fileUrl = await fileUpload( file );\r\n        activeNote.url = fileUrl\r\n        \r\n        dispatch( startSaveNote( activeNote ))\r\n        \r\n        \r\n        Swal.close()\r\n\r\n    }\r\n}\r\n\r\nexport const startDeleting = (id) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        const uid = getState().auth.uid;\r\n\r\n        await db.doc(`${uid}/journal/notes/${ id }`).delete();\r\n\r\n\r\n         dispatch(DeleteNote(id));\r\n    }\r\n}\r\n\r\n\r\nexport const DeleteNote = (id) => ({\r\n    type: types.notesDelete,\r\n    payload: id\r\n})\r\n\r\nexport const noteLogout = (id) => ({\r\n    type: types.notesLogoutCleaning,\r\n    payload: id\r\n})","import { types } from \"../types/types\";\r\n\r\n\r\nexport const setError = ( err ) => ({\r\n    type: types.uiSetError,\r\n    payload: err\r\n})\r\n\r\nexport const removeError = ( err ) => ({\r\n    type: types.uiError,\r\n    payload: err\r\n})\r\n\r\nexport const startLoading = () => ({\r\n    type: types.uiStartLoading,\r\n    payload: true\r\n    \r\n})\r\n\r\nexport const finishLoading = () => ({\r\n    type: types.uiFinishLoading,\r\n    payload: false\r\n})","import Swal from 'sweetalert2'\r\n\r\nimport { firebase, googleAuthProvider } from \"../firebase/fire-config\";\r\n\r\nimport { types } from \"../types/types\";\r\nimport { noteLogout } from './notes';\r\nimport { finishLoading, startLoading } from \"./ui\";\r\n\r\n\r\nexport const startLoginEmailPassword = ( email, password ) => {\r\n    return (dispatch) => {\r\n\r\n        dispatch(startLoading());\r\n\r\n\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n        .then( ({user}) => {\r\n            dispatch(\r\n                login( user.uid, user.displayName)\r\n            )\r\n\r\n            dispatch(finishLoading())\r\n        }).catch(e => {\r\n            dispatch(finishLoading())\r\n            Swal.fire('Error',e.message, 'error')\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const registerWithEmailPassword = ( email, password , name) => {\r\n\r\n    return (dispatch) => {\r\n\r\n        dispatch(startLoading());\r\n\r\n\r\n        firebase.auth().createUserWithEmailAndPassword(email, password)\r\n        .then( async ({user}) => {\r\n            \r\n            await user.updateProfile({ displayName: name })\r\n            \r\n            console.log(user);\r\n            \r\n             dispatch(\r\n                login( user.uid, user.displayName)\r\n            ) \r\n        }).catch(e => {\r\n            dispatch(finishLoading())\r\n            Swal.fire('Error',e.message, 'error')\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const startGoogleLogin = () => {\r\n    return (dispatch) => {\r\n        firebase.auth().signInWithPopup( googleAuthProvider )\r\n            .then( ({user}) => {\r\n                dispatch(\r\n                    login( user.uid, user.displayName)\r\n                )\r\n            });\r\n    }\r\n}\r\n\r\n\r\nexport const login = (uid, displayName) => ({\r\n        type: types.login,\r\n        payload: {\r\n            uid,\r\n            displayName\r\n    }\r\n})\r\n\r\nexport const startLogout = () =>  {\r\n\r\n    return async (dispatch) => {\r\n        await firebase.auth().signOut();\r\n\r\n        dispatch(logout())\r\n        dispatch(noteLogout())\r\n\r\n    }\r\n}\r\n\r\nexport const logout = () => ({\r\n    type: types.logout\r\n})\r\n\r\n","  \r\nimport { useState } from \"react\"\r\n\r\n\r\nexport const useForm = ( initialState = {} ) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = ( newFormState = initialState) => {\r\n        setValues( newFormState );\r\n    }\r\n\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setValues({\r\n            ...values,\r\n            [ target.name ]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    return [ values, handleInputChange, reset ];\r\n\r\n}","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { startGoogleLogin, startLoginEmailPassword } from \"../../actions/auth\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\n\r\nconst initialForm = {\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\nexport const LoginScreen = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { loading } = useSelector((state) => state.ui);\r\n\r\n\r\n\r\n  const [formValues, handleInputChange] = useForm(initialForm);\r\n\r\n  const { email, password } = formValues;\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    \r\n      dispatch(startLoginEmailPassword(email, password));\r\n    \r\n  };\r\n\r\n  const handleGoogleLogin = (e) => {\r\n    e.preventDefault();\r\n    dispatch(startGoogleLogin());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"auth__title\">Login</h3>\r\n\r\n      <form\r\n      className=\"animate__animated animate__fadeIn animate__faster\"\r\n       onSubmit={handleLogin}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          className=\"auth__input\"\r\n          autoComplete=\"off\"\r\n          value={email}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          className=\"auth__input\"\r\n          value={password}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary btn-block\"\r\n          onClick={handleLogin}\r\n          disabled={loading}\r\n        >\r\n          Login\r\n        </button>\r\n\r\n        <div className=\"auth__social-networks\">\r\n          <p>Login with social networks</p>\r\n\r\n          <div className=\"google-btn\" onClick={handleGoogleLogin}>\r\n            <div className=\"google-icon-wrapper\">\r\n              <img\r\n                className=\"google-icon\"\r\n                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\r\n                alt=\"google button\"\r\n              />\r\n            </div>\r\n            <p className=\"btn-text\">\r\n              <b>Sign in with google</b>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <Link to=\"/auth/register\" className=\"link\">\r\n          Create new account\r\n        </Link>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport Swal from 'sweetalert2'\r\n\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport validator from 'validator';\r\nimport { removeError, setError } from '../../actions/ui';\r\nimport { registerWithEmailPassword } from '../../actions/auth';\r\n\r\n\r\nconst initialForm = {\r\n    name: '',\r\n    email: '',\r\n    password:'',\r\n    password2:'',\r\n}\r\nexport const RegisterScreen = () => {\r\n\r\n\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n   \r\n\r\n    const [ formValues, handleInputChange] = useForm( initialForm );\r\n\r\n\r\n    const {name, email, password, password2} = formValues\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault()\r\n\r\n        if(isFormValid()) \r\n        {\r\n            dispatch(registerWithEmailPassword(email, password, name))\r\n        }\r\n    }\r\n\r\n    const isFormValid = () => {\r\n\r\n        if( name.trim().length === 0)\r\n        {\r\n            dispatch(setError(Swal.fire('Error','Name is required')))\r\n            return false;\r\n        }else if(!validator.isEmail( email )) {\r\n            dispatch(setError(Swal.fire('Error','Email is not valid')))\r\n            return false;\r\n        }else if( password !== password2 || password.length < 5){\r\n            dispatch(setError(Swal.fire('Error','Passwords are not the same')))\r\n            return false;\r\n        }\r\n\r\n        dispatch(removeError())\r\n        return true\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h3 className=\"auth__title\">Register</h3>\r\n\r\n            <form\r\n                  className=\"animate__animated animate__fadeIn animate__faster\"\r\n                  onSubmit={handleRegister}>\r\n\r\n        \r\n\r\n                <input \r\n                    type=\"text\"\r\n                    placeholder=\"Name\"\r\n                    name=\"name\"\r\n                    className=\"auth__input\"\r\n                    autoComplete=\"off\"\r\n                    value={name}\r\n                    onChange= {handleInputChange}\r\n                />\r\n\r\n                <input \r\n                    type=\"text\"\r\n                    placeholder=\"Email\"\r\n                    name=\"email\"\r\n                    className=\"auth__input\"\r\n                    autoComplete=\"off\"\r\n                    value={email}\r\n                    onChange= {handleInputChange}\r\n                />\r\n\r\n                <input \r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    name=\"password\"\r\n                    className=\"auth__input\"\r\n                    value={password}\r\n                    onChange= {handleInputChange}\r\n                />\r\n\r\n                <input \r\n                    type=\"password\"\r\n                    placeholder=\"Confirm password\"\r\n                    name=\"password2\"\r\n                    className=\"auth__input\"\r\n                    value={password2}\r\n                    onChange= {handleInputChange}\r\n                />\r\n\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary btn-block mb-5\"\r\n                >\r\n                    Register\r\n                </button>\r\n\r\n               \r\n\r\n                <Link \r\n                    to=\"/auth/login\"\r\n                    className=\"link\"\r\n                >\r\n                    Already registered?\r\n                </Link>\r\n\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport { LoginScreen } from '../components/auth/LoginScreen';\nimport { RegisterScreen } from '../components/auth/RegisterScreen';\n\nexport const AuthRouter = () => {\n    return (\n        <div className=\"auth__main\">\n            <div className=\"auth__box-container\">\n                <Switch>\n                    <Route \n                        exact\n                        path=\"/auth/login\"\n                        component={ LoginScreen }\n                    />\n\n                    <Route \n                        exact\n                        path=\"/auth/register\"\n                        component={ RegisterScreen }\n                    />\n\n                    <Redirect to=\"/auth/login\" />\n\n\n                </Switch>\n            </div>\n\n        </div>\n    )\n}\n","import React from 'react'\r\n\r\nimport  moment  from \"moment\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { activeNote } from '../../actions/notes';\r\n\r\nexport const JournalEntry = ({id, date, title, body, url}) => {\r\n   \r\n\r\n    const dispatch = useDispatch()\r\n   \r\n    const noteDate = moment(date)\r\n\r\n\r\n    const handleEntryClick = () => {\r\n        dispatch(activeNote(id,{date,title,body,url}))\r\n    }\r\n   \r\n   \r\n    return (\r\n        <div className=\"journal__entry pointer animate__animated animate__fadeIn animate__faster\" onClick={handleEntryClick}>\r\n            \r\n            {\r\n                url &&\r\n                <div \r\n                className=\"journal__entry-picture\"\r\n                style={{\r\n                    backgroundSize: 'cover',\r\n                    backgroundImage: `url(${url})`\r\n                }}\r\n            ></div>\r\n            }\r\n\r\n            <div className=\"journal__entry-body\">\r\n                <p className=\"journal__entry-title\">\r\n                    {title}\r\n                </p>\r\n                <p className=\"journal__entry-content\">\r\n                    {body}\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"journal__entry-date-box\">\r\n                <span>{noteDate.format('ddd')}</span>\r\n                <h4>{noteDate.format('Do')}</h4>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\ntry {\r\n    \r\n} catch (error) {\r\n    \r\n}","import React from 'react'\nimport { useSelector } from 'react-redux';\nimport { JournalEntry } from './JournalEntry';\n\nexport const JournalEntries = () => {\n\n        const {notes} = useSelector(state => state.notes)\n\n    return (\n        <div className=\"journal__entries\">\n            \n            {\n                notes.map( note => (\n                    <JournalEntry \n                        key={ note.id } \n                        {...note}\n                    />\n                ))\n            }\n\n        </div>\n    )\n}\n","import React  from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { startLogout } from '../../actions/auth'\r\nimport {  startNewNote } from '../../actions/notes'\r\n\r\nimport { JournalEntries } from './JournalEntries'\r\n\r\nexport const Sidebar = () => {\r\n\r\n\r\n    const { name } = useSelector((state) => state.auth);\r\n  \r\n\r\n \r\n    const dispatch = useDispatch()\r\n\r\n    const handleLogout = () => {\r\n\r\n        dispatch(startLogout())\r\n\r\n    }\r\n\r\n    const handleAddNew = () => {\r\n        dispatch(startNewNote())\r\n    }\r\n\r\n\r\n    return (\r\n        <aside className=\"journal__sidebar\">\r\n            \r\n            <div className=\"journal__sidebar-navbar\">\r\n                <h3 className=\"mt-5\">\r\n                    <i className=\"far fa-moon\"></i>\r\n                    <span>{name}</span>\r\n                </h3>\r\n\r\n                <button \r\n                    className=\"btn\"\r\n                    onClick={handleLogout}\r\n                >\r\n                    Logout\r\n                </button>\r\n            </div>\r\n\r\n            <div \r\n            className=\"journal__new-entry\"\r\n            onClick={handleAddNew}\r\n            >\r\n                <i className=\"far fa-calendar-plus fa-5x\"></i>\r\n                <p className=\"mt-5\">\r\n                    New entry\r\n                </p>\r\n            </div>\r\n\r\n            <JournalEntries />    \r\n\r\n        </aside>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { startSaveNote, startUploading } from '../../actions/notes'\r\n\r\nexport const NotesAppBar = () => {\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const {active} = useSelector(state => state.notes)\r\n\r\n\r\n    const handleSaveNote = () => {\r\n       \r\n         dispatch(startSaveNote(active)) \r\n    }\r\n\r\n    const handleSavePicture = () => {\r\n       document.querySelector('#fileSelector').click();\r\n   }\r\n\r\n   const handleFileChange = (e) => {\r\n\r\n    const file = e.target.files[0];\r\n\r\n    if( file ) {\r\n        dispatch( startUploading(file) )\r\n    }\r\n\r\n   }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"notes__appbar\">\r\n            <span>28 de agosto 2020</span>\r\n\r\n            <input\r\n                id=\"fileSelector\"\r\n                type=\"file\"\r\n                name=\"file\"\r\n                style={{ display: 'none'}}\r\n                onChange= { handleFileChange }\r\n            />\r\n\r\n\r\n            <div>\r\n                <button className=\"btn\" onClick={ handleSavePicture }>\r\n                    Picture\r\n                </button>\r\n\r\n                <button className=\"btn\" onClick={handleSaveNote}>\r\n                    Save\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\n\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { activeNote, startDeleting } from '../../actions/notes'\r\nimport { useForm } from '../../hooks/useForm'\r\nimport { NotesAppBar } from './NotesAppBar'\r\n\r\nexport const NoteScreen = () => {\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const {active:note} = useSelector(state => state.notes)\r\n\r\n    const [formValues, handleInputChange, reset ] = useForm(note);\r\n\r\n\r\n\r\n    const {title, body, id} = formValues;\r\n\r\n    const active = useRef( note.id )\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n        if(note.id !== active.current){\r\n            reset(note)\r\n            active.current = note.id\r\n        }\r\n\r\n    }, [note, reset])\r\n\r\n    useEffect(() => {\r\n        \r\n        dispatch( activeNote(formValues.id, {...formValues}) )\r\n\r\n    }, [formValues, dispatch])\r\n\r\n    const handleDelete = () => {\r\n        dispatch(startDeleting(id));\r\n    }\r\n\r\n    return (\r\n        <div className=\"notes__main-content\" >\r\n            \r\n            <NotesAppBar />\r\n\r\n            <div className=\"notes__content\">\r\n\r\n                <input \r\n                    type=\"text\"\r\n                    placeholder=\"Some awesome title\"\r\n                    className=\"notes__title-input\"\r\n                    autoComplete=\"off\"\r\n                    name=\"title\"\r\n                    value={title}\r\n                    onChange={handleInputChange}\r\n                />\r\n\r\n                <textarea\r\n                    placeholder=\"What happened today\"\r\n                    className=\"notes__textarea\"\r\n                    name=\"body\"\r\n                    value={body}\r\n                    onChange={handleInputChange}\r\n                ></textarea>\r\n\r\n            { \r\n              (note.url) &&\r\n               <div className=\"notes__image\">\r\n                    <img \r\n                        src={note.url}\r\n                        alt=\"imagen\"\r\n                    />\r\n                </div>\r\n            }\r\n\r\n\r\n            </div>\r\n\r\n            <button className=\"btn btn-danger\" onClick= { handleDelete }>\r\n                Delete\r\n            </button>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\n\nexport const NothingSelected = () => {\n    return (\n        <div className=\"nothing__main-content\">\n            <p>\n                Select something\n                <br />\n                pr create an entry!\n            </p>\n\n            <i className=\"far fa-star fa-4x mt-5\"></i>\n\n        </div>\n    )\n}\n","import React from 'react';\r\nimport { Sidebar } from './Sidebar';\r\nimport { NoteScreen } from '../notes/NoteScreen';\r\nimport { useSelector } from 'react-redux';\r\nimport { NothingSelected } from './NothingSelected';\r\n// import { NothingSelected } from './NothingSelected';\r\n\r\n\r\nexport const JournalScreen = () => {\r\n\r\n\r\n    const {active} = useSelector(state => state.notes)\r\n\r\n\r\n    return (\r\n        <div className=\"journal__main-content animate__animated animate__fadeIn animate__faster\">\r\n            \r\n            <Sidebar />\r\n\r\n\r\n            <main>\r\n\r\n                {\r\n                    (active)\r\n                    ? (<NoteScreen />)\r\n                    : (<NothingSelected />) \r\n                }\r\n                 \r\n                \r\n\r\n            </main>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\n/* eslint-disable import/prefer-default-export */\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n\r\n  \r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        isAuthenticated ? <Component {...props} /> : <Redirect to=\"/auth/login\" />}\r\n    />\r\n  );\r\n};\r\n\r\nPrivateRoute.prototype = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\n/* eslint-disable import/prefer-default-export */\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport const PublicRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        ( isAuthenticated ) ? <Redirect to=\"/\" /> :  <Component {...props} />}\r\n    />\r\n  );\r\n};\r\n\r\nPublicRoute.prototype = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport firebase from \"firebase/app\";\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Redirect\r\n  } from 'react-router-dom';\r\n\r\nimport { AuthRouter } from './AuthRouter';\r\nimport { JournalScreen } from '../components/journal/JournalScreen';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../actions/auth';\r\nimport { PrivateRoute } from './PrivateRoute';\r\nimport { PublicRoute } from './PublicRoute';\r\nimport { startLoadingNotes } from '../actions/notes';\r\n\r\nexport const AppRouter = () => {\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [checking, setChecking] = useState(true)\r\n\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n       firebase.auth().onAuthStateChanged( async (user) => {\r\n\r\n        if ( user?.uid )\r\n        {\r\n            dispatch(  login(user.uid, user.displayName) )\r\n            setIsLoggedIn(true)\r\n\r\n            dispatch(startLoadingNotes(user.uid))\r\n\r\n        } else \r\n        {\r\n            setIsLoggedIn(false)\r\n        }\r\n\r\n        setChecking(false)\r\n\r\n       })\r\n    }, [dispatch, setChecking, setIsLoggedIn])\r\n\r\n    if( checking )\r\n    {\r\n        return(\r\n            <h1>Espere....</h1>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <Switch>\r\n                    <PublicRoute \r\n                        path=\"/auth\"\r\n                        isAuthenticated = {isLoggedIn}\r\n                        component={ AuthRouter }\r\n                    />\r\n\r\n                    <PrivateRoute \r\n                        exact\r\n                        isAuthenticated = {isLoggedIn}\r\n                        path=\"/\"\r\n                        component={ JournalScreen }\r\n                    />\r\n\r\n                    <Redirect to=\"/auth/login\" />\r\n\r\n\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    )\r\n}\r\n","import { types } from \"../types/types\"\r\n\r\n\r\nconst initialState = {\r\n    notes: [],\r\n    active: null\r\n}\r\n\r\nexport const notesReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n\r\n        case types.notesActive:\r\n            return {\r\n                ...state,\r\n                active: {\r\n                    ...action.payload\r\n                }\r\n            }\r\n\r\n        case types.notesAddNew:\r\n            return {\r\n                ...state,\r\n                notes: [ action.payload, ...state.notes]\r\n            }\r\n\r\n        case types.notesLoad:\r\n            return {\r\n                ...state,\r\n                notes: [...action.payload]\r\n            }\r\n\r\n        case types.notesUpdate:\r\n            return {\r\n                ...state,\r\n                notes: state.notes.map(\r\n                    note => note.id === action.payload.id\r\n                    ?  action.payload.note\r\n                    :note\r\n                )\r\n            }\r\n\r\n        case types.notesDelete:\r\n            return {\r\n                ...state,\r\n                active: null,\r\n                notes: state.notes.filter( note =>  note.id !== action.payload)\r\n            }\r\n\r\n        case types.notesLogoutCleaning:\r\n            return {\r\n                ...state,\r\n                notes: [],\r\n                active: null\r\n            }\r\n      \r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    msgError: null\r\n}\r\n\r\nexport const uiReducer = ( state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case types.uiSetError:\r\n            return {\r\n                ...state,\r\n                msgError: action.payload\r\n            }\r\n\r\n        case types.uiError:\r\n            return{\r\n                ...state,\r\n                msgError: null\r\n            }\r\n\r\n        case types.uiStartLoading:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case types.uiFinishLoading:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            }\r\n            \r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { authReducer } from \"../reducers/authReducer\";\r\nimport { notesReducer } from \"../reducers/notesReducer\";\r\nimport { uiReducer } from \"../reducers/uiReducer\";\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nconst reducers = combineReducers({\r\n    auth: authReducer,\r\n    ui: uiReducer,\r\n    notes: notesReducer\r\n})\r\n\r\nexport const store = createStore(\r\n    reducers,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n    );\r\n\r\n","import { types } from \"../types/types\";\r\n\r\n\r\n\r\n\r\n\r\nexport const authReducer = (state = {}, action) => {\r\n\r\n    switch (action.type) {\r\n        case types.login:\r\n            return{\r\n                uid: action.payload.uid,\r\n                name: action.payload.displayName\r\n            }\r\n\r\n            case types.logout:\r\n                return {}\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { AppRouter } from './routers/AppRouter';\r\nimport { store } from './store/store';\r\n\r\n\r\n\r\nexport const JournalApp = () => {\r\n\r\n\r\n\r\n    return (\r\n        <Provider store={store}>\r\n          <AppRouter />\r\n        </Provider>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { JournalApp } from './JournalApp';\r\nimport 'animate.css'\r\nimport './styles/styles.scss'\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <JournalApp />,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}